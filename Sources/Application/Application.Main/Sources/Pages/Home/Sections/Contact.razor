@using Application.Main.Sources.Components.Dialogs

<div id="contact" class="section-contact">
    <MudText Class="mb-5 text-white" Align="Align.Center" Typo="Typo.h4">CONTATO</MudText>
    <MudDivider Class="mb-8" />

    <MudGrid Justify="Justify.Center" Class="contact-grid">
        <!-- Download CV Card -->
        <MudItem xs="12" sm="6" md="5" Class="d-flex justify-center">
            <MudPaper Class="contact-card download-card"
                      Style="background: linear-gradient(135deg, rgba(0, 150, 255, 0.15) 0%, rgba(0, 212, 255, 0.1) 100%); border: 2px solid rgba(0, 212, 255, 0.3); border-radius: 20px; backdrop-filter: blur(10px); cursor: pointer;"
                      @onclick="DownloadCV">
                <div class="card-content">
                    <MudIcon Icon="@Icons.Material.Filled.Download" Size="Size.Large" Class="card-icon" />
                    <MudText Typo="Typo.h6" Class="card-title">Download CV</MudText>
                    <MudText Typo="Typo.body2" Class="card-description">
                        Baixe meu curr√≠culo em PDF
                    </MudText>
                </div>
            </MudPaper>
        </MudItem>

        <!-- Quick Contact Card -->
        <MudItem xs="12" sm="6" md="5" Class="d-flex justify-center">
            <MudPaper Class="contact-card contact-quick-card"
                      Style="background: linear-gradient(135deg, rgba(255, 0, 150, 0.15) 0%, rgba(255, 100, 200, 0.1) 100%); border: 2px solid rgba(255, 100, 200, 0.3); border-radius: 20px; backdrop-filter: blur(10px); cursor: pointer;"
                      @onclick="OpenContactDialog">
                <div class="card-content">
                    <MudIcon Icon="@Icons.Material.Filled.ContactPhone" Size="Size.Large" Class="card-icon" />
                    <MudText Typo="Typo.h6" Class="card-title">Contato R√°pido</MudText>
                    <MudText Typo="Typo.body2" Class="card-description">
                        Envie uma mensagem direta
                    </MudText>
                </div>
            </MudPaper>
        </MudItem>
    </MudGrid>

    <!-- Social Links Section -->
    <div class="social-section mt-8">
        <MudText Typo="Typo.subtitle1" Align="Align.Center" Class="mb-4 text-white">Conecte-se comigo</MudText>
        <div class="social-links">
            <a href="https://www.linkedin.com/in/joaomarcelomarques" target="_blank" class="social-link linkedin" title="LinkedIn">
                <MudIcon Icon="@Icons.Custom.Brands.LinkedIn" />
            </a>
            <a href="https://github.com/celinhodaltro" target="_blank" class="social-link github" title="GitHub">
                <MudIcon Icon="@Icons.Custom.Brands.GitHub" />
            </a>
            <a href="mailto:MarceloDaltroMarques@gmail.com" class="social-link email" title="Email">
                <MudIcon Icon="@Icons.Material.Filled.Email" />
            </a>
            <a href="https://wa.me/5571992834507" target="_blank" class="social-link whatsapp" title="WhatsApp">
                <MudIcon Icon="@Icons.Custom.Brands.WhatsApp" />
            </a>
        </div>
    </div>
</div>

<style>
    .section-contact {
        padding: 2rem 1rem;
    }

    .contact-grid {
        gap: 2rem;
        margin-bottom: 2rem;
    }

    .contact-card {
        padding: 2rem;
        height: 100%;
        min-height: 220px;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
    }

    .contact-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
        transition: left 0.5s ease;
        pointer-events: none;
    }

    .contact-card:hover::before {
        left: 100%;
    }

    .contact-card:hover {
        transform: translateY(-8px);
        box-shadow: 0 15px 40px rgba(0, 212, 255, 0.2);
    }

    .download-card:hover {
        box-shadow: 0 15px 40px rgba(0, 212, 255, 0.3);
    }

    .contact-quick-card:hover {
        box-shadow: 0 15px 40px rgba(255, 100, 200, 0.3);
    }

    .card-content {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 1rem;
        text-align: center;
        width: 100%;
        position: relative;
        z-index: 1;
    }

    .card-icon {
        color: white;
        font-size: 3rem;
        animation: float 3s ease-in-out infinite;
    }

    .download-card .card-icon {
        color: #00d4ff;
    }

    .contact-quick-card .card-icon {
        color: #ff64c8;
    }

    .card-title {
        color: white;
        font-weight: 600;
        margin: 0.5rem 0;
    }

    .card-description {
        color: rgba(255, 255, 255, 0.7);
        font-size: 0.95rem;
        margin: 0;
    }

    .card-footer {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        color: rgba(255, 255, 255, 0.6);
        margin-top: 0.5rem;
        transition: all 0.3s ease;
    }

    .contact-card:hover .card-footer {
        color: white;
        transform: translateX(4px);
    }

    @@keyframes float {
        0%, 100% {
            transform: translateY(0px);
        }
        50% {
            transform: translateY(-10px);
        }
    }

    /* Social Links Section */
    .social-section {
        text-align: center;
        padding-top: 2rem;
        border-top: 1px solid rgba(255, 255, 255, 0.1);
    }

    .social-links {
        display: flex;
        justify-content: center;
        gap: 1.5rem;
        flex-wrap: wrap;
    }

    .social-link {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.05);
        border: 2px solid rgba(255, 255, 255, 0.1);
        color: white;
        text-decoration: none;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
    }

    .social-link::before {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 0;
        height: 0;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.1);
        transform: translate(-50%, -50%);
        transition: width 0.3s ease, height 0.3s ease;
    }

    .social-link:hover::before {
        width: 100%;
        height: 100%;
    }

    .social-link:hover {
        transform: translateY(-4px);
        border-color: rgba(255, 255, 255, 0.3);
    }

    .social-link.linkedin:hover {
        color: #0077b5;
        border-color: #0077b5;
        box-shadow: 0 0 20px rgba(0, 119, 181, 0.3);
    }

    .social-link.github:hover {
        color: #ffffff;
        border-color: #ffffff;
        box-shadow: 0 0 20px rgba(255, 255, 255, 0.3);
    }

    .social-link.email:hover {
        color: #ff6b6b;
        border-color: #ff6b6b;
        box-shadow: 0 0 20px rgba(255, 107, 107, 0.3);
    }

    .social-link.whatsapp:hover {
        color: #25d366;
        border-color: #25d366;
        box-shadow: 0 0 20px rgba(37, 211, 102, 0.3);
    }

    .social-link svg {
        position: relative;
        z-index: 1;
        font-size: 1.5rem;
    }

    /* Responsive Design */
    @@media (max-width: 768px) {
        .contact-grid {
            gap: 1.5rem;
        }

        .contact-card {
            min-height: 180px;
            padding: 1.5rem;
        }

        .card-icon {
            font-size: 2.5rem;
        }

        .social-links {
            gap: 1rem;
        }

        .social-link {
            width: 45px;
            height: 45px;
        }

        .social-link svg {
            font-size: 1.2rem;
        }
    }

    @@media (max-width: 480px) {
        .contact-card {
            min-height: 160px;
            padding: 1rem;
        }

        .card-icon {
            font-size: 2rem;
        }

        .card-title {
            font-size: 1rem;
        }

        .card-description {
            font-size: 0.85rem;
        }

        .social-link {
            width: 40px;
            height: 40px;
        }

        .social-link svg {
            font-size: 1rem;
        }
    }
</style>

<script>
    function downloadFile(fileUrl, fileName) {
        const link = document.createElement("a");
        link.href = fileUrl;
        link.download = fileName;
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
    }
</script>


@code {
    [Inject] IDialogService? dialogService { get; set; }
    [Inject] ISnackbar? snackbar { get; set; }
    [Inject] IJSRuntime? JS { get; set; }
    [Inject] NavigationManager? Navigation { get; set; }

    private async Task CopyEmail()
    {
        await JS.InvokeVoidAsync("navigator.clipboard.writeText", "marcelodaltromarques@gmail.com");
        snackbar?.Add("E-mail copiado para a √°rea de transfer√™ncia üìã", Severity.Success);
    }

    private async Task DownloadCV()
    {
        var pdfPath = $"{Navigation?.BaseUri}docs/curriculo/Curriculo.pdf";
        await JS.InvokeVoidAsync("downloadFile", pdfPath, "Curriculo - Jo√£o Marcelo Daltro Marques.pdf");
        snackbar?.Add("Obrigado por baixar meu curr√≠culo! üòÅ", Severity.Success);
    }

    private async Task OpenContactDialog()
    {
        var parameters = new DialogParameters();
        var options = new DialogOptions { MaxWidth = MaxWidth.Small, FullWidth = true, CloseButton = true, NoHeader = true };
        await dialogService.ShowAsync<DialogContact>("Contato", parameters, options);
    }
}
